{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"./services/firebase.js\";\nimport urlParams from \"./services/url-params.js\";\nimport PanelUser from \"./components/PanelUser.vue\";\nimport PanelForum from \"./components/PanelForum.vue\";\nimport FormNewRoom from \"./components/FormNewRoom.vue\";\nexport default {\n  name: \"App\",\n  components: {\n    PanelUser: PanelUser,\n    PanelForum: PanelForum,\n    FormNewRoom: FormNewRoom\n  },\n  data: function data() {\n    return {\n      hasRoom: false,\n      room: {\n        id: \"\",\n        name: \"\"\n      },\n      loggedUser: {\n        userId: \"\",\n        isAdmin: false,\n        username: \"\",\n        email: \"\"\n      },\n      questions: []\n    };\n  },\n  methods: {\n    setData: function setData(data) {\n      this.room = data.room;\n      this.loggedUser = data.loggedUser;\n      this.questions = data.questions;\n    },\n    getData: function getData() {\n      return {\n        room: this.room,\n        loggedUser: this.loggedUser,\n        questions: this.questions\n      };\n    },\n    setHasRoom: function setHasRoom(val) {\n      this.hasRoom = Boolean(val);\n    },\n    newRoom: function newRoom(params) {\n      var data = firebase.newRoom(params);\n      this.setData(data);\n      urlParams.set(\"room\", data.room.id);\n      this.hasRoom = true;\n    },\n    closeRoom: function closeRoom() {\n      var data = firebase.deleteRoom();\n      this.setData(data);\n      urlParams.delete(\"room\");\n      this.hasRoom = false;\n    },\n    toggleAdminMode: function toggleAdminMode() {\n      this.loggedUser.isAdmin = !this.loggedUser.isAdmin;\n    },\n    changeUsername: function changeUsername(username, userId) {\n      firebase.changeUsername(this.getData(), username, userId, this.setData);\n      console.log(this.getData().questions);\n    },\n    changeEmail: function changeEmail(email, userId) {\n      firebase.changeEmail(this.getData(), email, userId, this.setData);\n    },\n    addQuestion: function addQuestion(question) {\n      firebase.pushQuestion(this.getData(), this.loggedUser.username, this.loggedUser.userId, question, this.setData);\n    },\n    test: function test() {\n      alert(\"Test success!\");\n    }\n  },\n  mounted: function mounted() {\n    var roomId = urlParams.get(\"room\");\n    this.hasRoom = roomId != null; //sementara\n\n    /*if(roomId != null){\r\n    \tfirebase.isRoomExists(this.setHasRoom)\r\n    }*/\n\n    if (this.hasRoom && this.loggedUser.email.length < 1) {\n      this.loggedUser.username = \"Anonymous\";\n\n      var idGen = function idGen() {\n        return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n      };\n\n      this.loggedUser.userId = idGen() + idGen() + \"-\" + idGen() + idGen() + idGen() + idGen();\n    }\n\n    console.log(this.room.name);\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;AAWA;AACA;AAEA;AACA;AACA;AAEA;AACAA,aADA;AAEAC;AACAC,wBADA;AAEAC,0BAFA;AAGAC;AAHA,GAFA;AAOAC,MAPA,kBAOA;AACA;AACAC,oBADA;AAEAC;AACAC,cADA;AAEAR;AAFA,OAFA;AAMAS;AACAC,kBADA;AAEAC,sBAFA;AAGAC,oBAHA;AAIAC;AAJA,OANA;AAYAC;AAZA;AAcA,GAtBA;AAuBAC;AACAC,WADA,mBACAX,IADA,EACA;AACA;AACA;AACA;AACA,KALA;AAMAY,WANA,qBAMA;AACA;AACAV,uBADA;AAEAE,mCAFA;AAGAK;AAHA;AAKA,KAZA;AAaAI,cAbA,sBAaAC,GAbA,EAaA;AACA;AACA,KAfA;AAgBAC,WAhBA,mBAgBAC,MAhBA,EAgBA;AACA;AACA;AACAC;AACA;AACA,KArBA;AAsBAC,aAtBA,uBAsBA;AACA;AACA;AACAD;AACA;AACA,KA3BA;AA4BAE,mBA5BA,6BA4BA;AACA;AACA,KA9BA;AA+BAC,kBA/BA,0BA+BAb,QA/BA,EA+BAF,MA/BA,EA+BA;AACAgB;AACAC;AACA,KAlCA;AAmCAC,eAnCA,uBAmCAf,KAnCA,EAmCAH,MAnCA,EAmCA;AACAgB;AACA,KArCA;AAsCAG,eAtCA,uBAsCAC,QAtCA,EAsCA;AACAJ;AACA,KAxCA;AAyCAK,QAzCA,kBAyCA;AACAC;AACA;AA3CA,GAvBA;AAoEAC,SApEA,qBAoEA;AACA;AACA,kCAFA,CAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AAAA;AAAA;;AACA;AACA;;AAEAN;AACA;AApFA","names":["name","components","PanelUser","PanelForum","FormNewRoom","data","hasRoom","room","id","loggedUser","userId","isAdmin","username","email","questions","methods","setData","getData","setHasRoom","val","newRoom","params","urlParams","closeRoom","toggleAdminMode","changeUsername","firebase","console","changeEmail","addQuestion","question","test","alert","mounted"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\r\n\t<div id=\"app\" class=\"container-lg\">\r\n\t\t<div v-if=\"hasRoom\" class=\"panel-wrapper\">\r\n\t\t\t<PanelUser :userId=\"loggedUser.userId\" :isAdmin=\"loggedUser.isAdmin\" :username=\"loggedUser.username\" :email=\"loggedUser.email\" />\r\n\t\t\t<PanelForum :forumName=\"room.name\" :questions=\"questions\" :loggedUserId=\"loggedUser.userId\" />\r\n\t\t</div>\r\n\t\t<FormNewRoom v-if=\"!hasRoom\"></FormNewRoom>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"./services/firebase.js\";\r\nimport urlParams from \"./services/url-params.js\";\r\n\r\nimport PanelUser from \"./components/PanelUser.vue\";\r\nimport PanelForum from \"./components/PanelForum.vue\";\r\nimport FormNewRoom from \"./components/FormNewRoom.vue\";\r\n\r\nexport default {\r\n\tname: \"App\",\r\n\tcomponents: {\r\n\t\tPanelUser,\r\n\t\tPanelForum,\r\n\t\tFormNewRoom\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thasRoom: false,\r\n\t\t\troom: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\tname: \"\"\r\n\t\t\t},\r\n\t\t\tloggedUser: {\r\n\t\t\t\tuserId: \"\",\r\n\t\t\t\tisAdmin: false,\r\n\t\t\t\tusername: \"\",\r\n\t\t\t\temail: \"\"\r\n\t\t\t},\r\n\t\t\tquestions: []\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tsetData(data){\r\n\t\t\tthis.room = data.room;\r\n\t\t\tthis.loggedUser = data.loggedUser;\r\n\t\t\tthis.questions = data.questions;\r\n\t\t},\r\n\t\tgetData(){\r\n\t\t\treturn {\r\n\t\t\t\troom: this.room,\r\n\t\t\t\tloggedUser: this.loggedUser,\r\n\t\t\t\tquestions: this.questions\r\n\t\t\t};\r\n\t\t},\r\n\t\tsetHasRoom(val){\r\n\t\t\tthis.hasRoom = Boolean(val);\r\n\t\t},\r\n\t\tnewRoom(params){\r\n\t\t\tconst data = firebase.newRoom(params);\r\n\t\t\tthis.setData(data);\r\n\t\t\turlParams.set(\"room\", data.room.id);\r\n\t\t\tthis.hasRoom = true;\r\n\t\t},\r\n\t\tcloseRoom(){\r\n\t\t\tconst data = firebase.deleteRoom();\r\n\t\t\tthis.setData(data);\r\n\t\t\turlParams.delete(\"room\");\r\n\t\t\tthis.hasRoom = false;\r\n\t\t},\r\n\t\ttoggleAdminMode(){\r\n\t\t\tthis.loggedUser.isAdmin = !this.loggedUser.isAdmin;\r\n\t\t},\r\n\t\tchangeUsername(username, userId){\r\n\t\t\tfirebase.changeUsername(this.getData(), username, userId, this.setData);\r\n\t\t\tconsole.log(this.getData().questions);\r\n\t\t},\r\n\t\tchangeEmail(email, userId){\r\n\t\t\tfirebase.changeEmail(this.getData(), email, userId, this.setData);\r\n\t\t},\r\n\t\taddQuestion(question){\r\n\t\t\tfirebase.pushQuestion(this.getData(), this.loggedUser.username, this.loggedUser.userId, question, this.setData);\r\n\t\t},\r\n\t\ttest(){\r\n\t\t\talert(\"Test success!\");\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\tconst roomId = urlParams.get(\"room\");\r\n\t\tthis.hasRoom = roomId != null; //sementara\r\n\t\t\r\n\t\t/*if(roomId != null){\r\n\t\t\tfirebase.isRoomExists(this.setHasRoom)\r\n\t\t}*/\r\n\r\n\t\tif(this.hasRoom && this.loggedUser.email.length < 1){\r\n\t\t\tthis.loggedUser.username = \"Anonymous\";\r\n\r\n\t\t\tconst idGen = () => (((1 + Math.random()) * 0x10000)|0).toString(16).substring(1);\r\n\t\t\tthis.loggedUser.userId = idGen() + idGen() + \"-\" + idGen() + idGen() + idGen() + idGen();\r\n\t\t}\r\n\r\n\t\tconsole.log(this.room.name);\r\n\t}\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}